<div ba-panel ba-panel-class="profile-page">
  <div class="panel-content" ng-controller='ProfilePageCtrl'>

    <h3 class="with-line">General Information</h3>
    <form name="userInfo">

      <div class="row">
        <div class="col-md-6">
          <div class="form-group row clearfix">
            <label for="inputFirstName" class="col-sm-4 control-label">Avatar</label>
            <div class="col-sm-8" ng-if=avatar>
              <ng-avatar bind string={{avatar}} auto-color=true width=120 text-shadow=true></ng-avatar>
            </div>
          </div>
        </div>
        <div class="col-md-6"></div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group row clearfix">
            <label for="inputFirstName" class="col-sm-4 control-label">User ID</label>
            <div class="col-sm-8">
              <div class="form-group has-feedback ng-scope">
                <input type="text" class="form-control" value="{{userId}}" ng-disabled=true>
                <i class="ion-locked form-control-feedback" ng-show="true"></i>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row clearfix">
            <label for="inputFirstName" class="col-sm-4 control-label">Username</label>
            <div class="col-sm-8">
              <div class="form-group has-feedback ng-scope">
                <input type="text" class="form-control" ng-model="user.username" id="username" name="username" value="{{user.username}}"
                  ng-disabled=!owner required ng-model-options="{ debounce: 1000 }" ng-change="unameValid('{{user.id}}','{{user.username}}')">
                <i class="ion-locked form-control-feedback" ng-show=!owner></i>
                <div ng-if="userErr.message" ng-class="userErr.error ? 'redrow' : 'greenrow'" style="padding-top: 10px;">{{userErr.message}}</div>
                <div class="progress" style="height=10px; margin-bottom:0px" ng-show=pending>
                  <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow="20" aria-valuemin="0"
                    aria-valuemax="100" style="width: 100%; height=10px">
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>


      <div class="row">
        <div class="col-md-6">
          <div class="form-group row clearfix">
            <label for="inputFirstName" class="col-sm-4 control-label">First Name</label>
            <div class="col-sm-8">
              <div class="form-group has-feedback ng-scope">
                <input type="text" class="form-control" ng-model="user.firstName" name ="firstName" id="firstName" placeholder="" value="{{user.firstName}}" ng-disabled=!owner
                  required>
                <i class="ion-locked form-control-feedback" ng-show=!owner required></i>
              </div>
            </div>
          </div>
          <div class="form-group row clearfix">
            <label for="inputLastName" class="col-sm-4 control-label">Last Name</label>
            <div class="col-sm-8">
              <div class="form-group has-feedback ng-scope">
                <input type="text" class="form-control" ng-model="user.lastName" name="lastName" id="lastName" placeholder="" value="{{user.lastName}}" ng-disabled=!owner required>
                <i class="ion-locked form-control-feedback" ng-show=!owner></i>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group row clearfix">
            <label class="col-sm-4 control-label">Department</label>
            <div class="col-sm-8">
              <div class="form-group has-feedback ng-scope">
                <select class="form-control" ng-model=user.depart name="depart" id="depart" selectpicker ng-disabled=!owner>
                  <option value> -- select an option -- </option>
                  <option value="Web Development">Web Development</option>
                  <option value="System Development">System Development</option>
                  <option value="Sales">Sales</option>
                  <option value="Human Resources">Human Resources</option>
              </select>
                <i class="ion-locked form-control-feedback" ng-show=!owner></i>
              </div>
            </div>
          </div>
          <div class="form-group row clearfix">
            <label for="inputOccupation" class="col-sm-4 control-label">Occupation</label>
            <div class="col-sm-8">
              <div class="form-group has-feedback ng-scope">
                <input type="text" class="form-control" ng-model="user.occupation" name="occupation" id="occupation" placeholder="" value="{{user.occupation}}" ng-disabled=!owner>
                <i class="ion-locked form-control-feedback" ng-show=!owner></i>
              </div>
            </div>
          </div>
        </div>
      </div>

      <h3 class="with-line">Contact Information</h3>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group row clearfix">
            <label for="email" class="col-sm-4 control-label">Email</label>
            <div class="col-sm-8">
              <div class="form-group has-feedback ng-scope">
                <input type="text" class="form-control" id="email" ng-model="user.email" name="email" placeholder="" value="{{user.email}}" required ng-model-options="{ debounce: 1000 }" ng-change="mailValid('{{reg.email}}')">
                <i class="ion-locked form-control-feedback" ng-show=!owner></i>
                <div ng-if="mailErr.message" ng-class="mailErr.error ? 'redrow' : 'greenrow'" style="padding-top: 10px;">{{mailErr.message}}</div>
                <div class="progress" style="height=10px; margin-bottom:0px" ng-show=pending2>
                  <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow="20" aria-valuemin="0"
                    aria-valuemax="100" style="width: 100%; height=10px">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group row clearfix">
            <label for="inputPhone" class="col-sm-4 control-label">Phone</label>
            <div class="col-sm-8">
              <div class="form-group has-feedback ng-scope">
                <input type="text" class="form-control" ng-model="user.phone" name="phone" id="phone" placeholder="" value="{{user.phone}}">
                <i class="ion-locked form-control-feedback" ng-show=!owner></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      <button type="button" class="btn btn-primary btn-with-icon save-profile" ng-disabled="userInfo.$invalid" ng-show=owner ng-click="updateUser()">
      <i class="ion-android-checkmark-circle"></i>Update Profile
      </button>
    </form>

    <h3 class="with-line">Change Password</h3>


    <form name="userPassword">
      <div class="row">
        <div class="col-md-6">
          <div class="form-group row clearfix">
            <label for="inputPassword" class="col-sm-4 control-label">Old Password</label>
            <div class="col-sm-8">
              <div class="form-group has-feedback ng-scope">
                <input ng-cut="$event.preventDefault()" ng-model="oldPassword" name="oldPassword" ng-copy="$event.preventDefault()" ng-paste="$event.preventDefault()"
                  type="password" class="form-control" id="inputPassword" placeholder="*******" value="" ng-disabled=!owner
                  required>
                <i class="ion-locked form-control-feedback" ng-show=!owner></i>
                <div class="redrow" style="padding-top: 10px" ng-show="wrongOldPassword">Wrong password!</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group row clearfix">
            <label for="inputPassword" class="col-sm-4 control-label">New Password</label>
            <div class="col-sm-8">
              <div class="form-group has-feedback ng-scope">
                <input ng-cut="$event.preventDefault()" ng-copy="$event.preventDefault()" ng-paste="$event.preventDefault()" type="password"
                  class="form-control" id="newPassword" ng-model="newPassword" name="newPassword" placeholder="*******" value=""
                  ng-disabled=!owner tr-trustpass="{special: false, toggle: true}" ng-change="confirmPassword()">
                <i class="ion-locked form-control-feedback" ng-show=!owner></i>
                <i class="ion-checkmark form-control-feedback greenrow" ng-show=!userPassword.newPassword.$invalid></i>
                <i class="ion-close form-control-feedback redrow" ng-show="userPassword.newPassword.$invalid && owner && userPassword.newPassword.$dirty"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-group row clearfix">
            <label for="inputConfirmPassword" class="col-sm-4 control-label">Confirm New Password</label>
            <div class="col-sm-8">
              <div class="form-group has-feedback ng-scope">
                <input ng-cut="$event.preventDefault()" ng-copy="$event.preventDefault()" ng-paste="$event.preventDefault()" type="password"
                  class="form-control" id="newPasswordConfirm" ng-model="newPasswordConfirm" name="newPasswordConfirm" placeholder="*******"
                  ng-disabled=!owner compare-to="userPassword.newPassword" ng-change="confirmPassword()">
                <i class="ion-locked form-control-feedback" ng-show=!owner></i>
                <i class="ion-checkmark form-control-feedback greenrow" ng-show="passMatch && userPassword.newPassword.$dirty"></i>
                <div class="redrow" style="padding-top: 10px" ng-show="!passMatch && userPassword.newPassword.$dirty">Password do not match</div>
              </div>
            </div>
          </div>
        </div>

      </div>
      <button type="button" class="btn btn-primary btn-with-icon save-profile" ng-disabled="userPassword.$invalid" ng-show=owner
        ng-click="changePassword()">
      <i class="ion-key"></i>Change Password
      </button>

    </form>





  </div>
</div>